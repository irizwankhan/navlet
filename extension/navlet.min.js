let isTrayVisible=!0;const tray=document.createElement("div"),buttonTop=(tray.setAttribute("id","navlet-tray"),tray.style.bottom="14px",tray.style.border="2px solid rgba(0,0,0,0)",tray.style.borderTopLeftRadius="24px",tray.style.borderBottomLeftRadius="24px",tray.style.background="rgba(255,255,255,0.75)",tray.style.backdropFilter="blur(8px)",document.createElement("button")),buttonBottom=document.createElement("button"),br=document.createElement("br"),restore=document.createElement("button");function restoreTray(){isTrayVisible?(document.getElementById("navlet-tray").style.display="none",isTrayVisible=!1,restore.style.backgroundPositionX="center",restore.style.backgroundImage="url('https://github.com/rizz-wan/navlet/extension/raw/main/images/l.png')"):(document.getElementById("navlet-tray").style.display="block",isTrayVisible=!0,restore.style.backgroundPositionX="6px",restore.style.backgroundImage="url('https://github.com/rizz-wan/navlet/extension/raw/main/images/r.png')")}[restore,buttonBottom,buttonTop].forEach(t=>{t.style.border="2px solid rgba(0,0,0,0.5)",t.style.color="#fff",t.style.fontWeight="900",t.style.cursor="pointer",t.style.padding="0",t.style.backgroundColor="rgba(0,0,0,0.5)",t.style.backgroundSize="14px",t.style.backgroundRepeat="no-repeat",t.style.backgroundPositionX="center",t.style.backgroundPositionY="center"}),[restore,tray].forEach(t=>{t.style.borderRight="0",t.style.zIndex="999999",t.style.position="fixed",t.style.right="0"}),[buttonTop,buttonBottom].forEach(t=>{t.style.fontSize="20px",t.style.height="38px",t.style.width="38px",t.style.borderRadius="20px"}),buttonTop.style.backgroundImage="url('https://github.com/rizz-wan/navlet/extension/raw/main/images/t.png')",buttonTop.setAttribute("id","navlet-top"),buttonTop.style.margin="8px 24px 6px 8px",buttonBottom.style.backgroundImage="url('https://github.com/rizz-wan/navlet/extension/raw/main/images/b.png')",buttonBottom.setAttribute("id","navlet-bottom"),buttonBottom.style.margin="6px 24px 8px 8px",restore.style.backgroundImage=isTrayVisible?"url('https://github.com/rizz-wan/navlet/extension/raw/main/images/r.png')":"url('https://github.com/rizz-wan/navlet/extension/raw/main/images/l.png')",restore.setAttribute("id","navlet-restore"),restore.style.bottom="56px",restore.style.borderTopLeftRadius="12px",restore.style.borderBottomLeftRadius="12px",restore.style.height="24px",restore.style.width="20px",restore.style.margin="0",restore.style.backgroundSize="8px",isTrayVisible&&(restore.style.backgroundPositionX="6px"),tray.appendChild(buttonTop),tray.appendChild(br),tray.appendChild(buttonBottom),document.getElementById("navlet-tray")?.remove(),document.getElementById("navlet-restore")?.remove(),document.body.appendChild(tray),document.body.appendChild(restore),document.addEventListener("click",function(t){var e;t.target&&"navlet-top"==t.target.id&&scrollTo({top:0}),t.target&&"navlet-bottom"==t.target.id&&scrollTo({top:(e=document.scrollingElement).scrollHeight-e.clientHeight}),t.target&&"navlet-restore"==t.target.id&&restoreTray()});const pi=Math.PI,timingFunction=t=>.5*(Math.cos(t*pi+pi)+1);function scrollTo({top:t,element:n=document.scrollingElement}){const a=n.scrollTop;if(t??=a,t=Math.max(0,Math.min(n.scrollHeight-n.clientHeight,t)),a!==t){const s=t-a;let o=0,r=null;function i(t){o+=(t-r)/250,o=Math.min(o,1);var e=timingFunction(o);n.scroll({top:a+e*s,behavior:"instant"}),1<=o||(r=t,window.requestAnimationFrame(i))}window.requestAnimationFrame(t=>{r=t,window.requestAnimationFrame(i)})}}chrome.runtime.onMessage.addListener((t,e)=>{"toggleTray"==t&&restoreTray()});